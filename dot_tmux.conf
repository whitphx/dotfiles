# prefixã‚­ãƒ¼ã‚’C-oã«å¤‰æ›´ã™ã‚‹
set -g prefix C-o

# C-bã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’è§£é™¤ã™ã‚‹
unbind C-b

# Prefix + cã§æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã™ã‚‹ & æ—¢å­˜ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®å¾Œã‚ã«è¿½åŠ ã™ã‚‹
bind-key c new-window -a

# ã‚­ãƒ¼ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®ãƒ‡ã‚£ãƒ¬ã‚¤ã‚’æ¸›ã‚‰ã™
set -sg escape-time 1

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’1ã‹ã‚‰å§‹ã‚ã‚‹
set -g base-index 1

set-option -g renumber-windows on   # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ãŸæ™‚ã«ç•ªå·ã‚’è©°ã‚ã‚‹

# ãƒšã‚¤ãƒ³ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’1ã‹ã‚‰å§‹ã‚ã‚‹
setw -g pane-base-index 1

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# C-o*2ã§tmuxå†…ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«C-oã‚’é€ã‚‹
bind C-o send-prefix

# Split pane horizontally, preserving the current path
bind 3 split-window -h -c "#{pane_current_path}"

# Split pane vertically, preserving the current path
bind 2 split-window -v -c "#{pane_current_path}"

# Move a window
# ref: https://superuser.com/a/552493
bind-key -n C-S-Left swap-window -t -1\; select-window -t -1
bind-key -n C-S-Right swap-window -t +1\; select-window -t +1

# ãƒã‚¦ã‚¹æ“ä½œã‚’æœ‰åŠ¹ã«ã™ã‚‹
setw -g mouse on

# 256è‰²ç«¯æœ«ã‚’ä½¿ç”¨ã™ã‚‹
set -g default-terminal "screen-256color"
set -g terminal-overrides 'xterm:colors=256'

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®è‰²ã‚’è¨­å®šã™ã‚‹
setw -g status-style fg=colour255,bg=colour234

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚¹ãƒˆã®è‰²ã‚’è¨­å®šã™ã‚‹
setw -g window-status-style fg=cyan,bg=default,dim
# ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ç›®ç«‹ãŸã›ã‚‹
setw -g window-status-current-style fg=white,bright,bg=colour170

# ãƒšã‚¤ãƒ³ãƒœãƒ¼ãƒ€ãƒ¼ã®è‰²ã‚’è¨­å®šã™ã‚‹
set -g pane-border-style fg=colour111,bg=colour236
# ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒšã‚¤ãƒ³ã‚’ç›®ç«‹ãŸã›ã‚‹
set -g pane-active-border-style fg=colour227,bg=colour240

# ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®è‰²ã‚’è¨­å®šã™ã‚‹
set -g message-style fg=white,bg=black,bright

# Plugins
## Tmux Plugin Manager
set -g @plugin 'tmux-plugins/tpm'
## Plugins
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tmux-online-status'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
## Plugins for saving and restoring sessions
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

# Status bar settings
## å·¦ãƒ‘ãƒãƒ«ã‚’è¨­å®šã™ã‚‹
set -g status-left-length 40
set -g status-left "#[fg=yellow]W-#I #[fg=cyan]P-#P"
## å³ãƒ‘ãƒãƒ«ã‚’è¨­å®šã™ã‚‹
set -g @online_icon "ğŸ›œ"
set -g @offline_icon "ğŸ’”"
set -g status-right '#{prefix_highlight}#[fg=colour59, bg=colour234]î‚²#[fg=brightwhite, bg=colour59] #{battery_icon} #{battery_percentage} #{online_status}#[fg=colour234, bg=colour59] î‚²#[fg=colour59, bg=colour234]î‚²#[fg=brightwhite, bg=colour59] %Y-%m-%d(%a) %H:%M '
## ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã®é–“éš”ã‚’è¨­å®šã™ã‚‹(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 15ç§’)
set -g status-interval 10
## ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚¹ãƒˆã®ä½ç½®ã‚’ä¸­å¿ƒå¯„ã›ã«ã™ã‚‹
set -g status-justify centre
## Enable activity monitoring without visual notifications
setw -g monitor-activity on
set -g visual-activity off
## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’ä¸Šéƒ¨ã«è¡¨ç¤ºã™ã‚‹
set -g status-position top

# Configure copy mode
bind-key -T copy-mode C-w send-keys -X copy-pipe-and-cancel "pbcopy" \; display "Copied"  # tmux 2.6 and above does not require reattach-to-user-namespace
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy" \; display "Copied"
bind C-y run "pbpaste | tmux load-buffer - && tmux paste-buffer"

# Use fish
set -g default-shell /opt/homebrew/bin/fish

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
